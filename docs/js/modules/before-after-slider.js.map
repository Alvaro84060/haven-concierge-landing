{"version":3,"file":"before-after-slider.js","names":["_masonryLayout","_interopRequireDefault","require","_beforeAfterData","_generateComparisonSlider","_initializeComparisonSlider","obj","__esModule","grid","document","querySelector","buttonContainer","showMoreBtn","showLessBtn","gutterSize","chosenCategory","itemsPerPage","displayedItems","initializeBeforeAfterBlock","createCategoryItemsList","createInitialComparisonSliderList","initializeMasonry","addEventListener","handleCategory","initializeSlider","showMoreItems","showLessItems","masonry","Masonry","itemSelector","gutter","createFullComparisonSliderList","fragment","createDocumentFragment","comparisonImagesData","forEach","_ref","beforeName","afterName","desc","categories","listItem","createComparisonSliderItem","appendChild","slice","item","createComparisonSlider","_ref2","uniqueCategories","getUniqueCategories","createCategoryItem","category","ariaLabel","concat","Set","_ref3","add","Array","from","text","li","createElement","className","button","textContent","classList","setAttribute","e","target","contains","updateChosenCategory","allCategoryButtons","querySelectorAll","toggleCategory","resetComparisonSliderList","updateComparisonSliderList","filterImages","toggleShowBtnsVisibility","generateUpdatedMasonry","innerHTML","btn","allBtnList","remove","pictureList","dataset","split","hasChosenCategory","includes","toggle","layout","itemsToLoad","updateButtonsVisibility","items","newItems","length"],"sources":["modules/before-after-slider.js"],"sourcesContent":["\nimport Masonry from \"masonry-layout\";\nimport { comparisonImagesData } from './before-after-data';\nimport { createComparisonSliderItem } from './generate-comparison-slider';\nimport { initializeSlider } from \"./initialize-comparison-slider\";\n\nconst grid = document.querySelector('.comparison__slider-list');\nconst buttonContainer = document.querySelector(\".comparison__categories-list\");\nconst showMoreBtn = document.querySelector('.btn-wrap--more');\nconst showLessBtn = document.querySelector('.btn-wrap--less');\nconst gutterSize = 20;\nlet chosenCategory = 'Всі';\nlet itemsPerPage = 6; \nlet displayedItems = 0; \ninitializeBeforeAfterBlock();\n\n  function initializeBeforeAfterBlock() {\n    createCategoryItemsList();\n    createInitialComparisonSliderList();\n    initializeMasonry();\n    buttonContainer.addEventListener('click', handleCategory);\n    document.addEventListener('DOMContentLoaded', () => initializeSlider());\n    showMoreBtn.addEventListener('click', showMoreItems);\n    showLessBtn.addEventListener('click', showLessItems);\n  }\n  \n    function initializeMasonry() {\n    const masonry  = new Masonry(grid, {\n      itemSelector: '.comparison-slider',\n      gutter: gutterSize,\n      \n    });\n   }\n\n  function createFullComparisonSliderList() {\n    const fragment = document.createDocumentFragment();\n    comparisonImagesData.forEach(({ beforeName, afterName, desc, categories }) => {\n      const listItem = createComparisonSliderItem({beforeName, afterName, desc, categories});\n      fragment.appendChild(listItem);\n    });\n    grid.appendChild(fragment);\n  }\n\n  function createInitialComparisonSliderList() {\n    const fragment = document.createDocumentFragment(); \n      comparisonImagesData.slice(0, itemsPerPage).forEach(item => {\n      const { beforeName, afterName, desc, categories } = item;\n      const listItem = createComparisonSliderItem({ beforeName, afterName, desc, categories });\n      fragment.appendChild(listItem); \n      displayedItems++;\n    });\n  \n    grid.appendChild(fragment); \n  }\n\n\n  function createComparisonSlider({ beforeName, afterName, desc, categories }) {\n    const listItem = createComparisonSliderItem({ beforeName, afterName, desc, categories });\n    grid.appendChild(listItem);\n    displayedItems++;\n  }  \n\n  \nfunction createCategoryItemsList() {\n  const uniqueCategories = getUniqueCategories();\n  createCategoryItem(\"Всі\", 'Показати всі категорії');\n  uniqueCategories.forEach(category => {\n    const ariaLabel = `Фільтрувати за категорією ${category}`;\n    createCategoryItem(category, ariaLabel);\n  });\n}\n\nfunction getUniqueCategories() {\n  const uniqueCategories = new Set();\n  comparisonImagesData.forEach(({ categories }) => {\n    categories.forEach(category => uniqueCategories.add(category));\n  });\n  return Array.from(uniqueCategories);\n}\n\n  function createCategoryItem(text, ariaLabel) {\n    const li = document.createElement(\"li\");\n      li.className = 'category__item';\n    const button = document.createElement(\"button\");\n    button.textContent = text;\n    button.className = 'category__button';\n    if (text==='Всі') {\n      button.classList.add('category__button--active');\n    } \n    \n    button.setAttribute(\"aria-label\", ariaLabel);\n    li.appendChild(button);\n    buttonContainer.appendChild(li);\n  }\n\n  function handleCategory(e) {\n    const {target} = e;\n    if (!target.classList.contains('category__button')) {\n      return;\n    }\n    updateChosenCategory(target.textContent);\n    const allCategoryButtons = buttonContainer.querySelectorAll('.category__button');\n    toggleCategory(target, allCategoryButtons);\n    resetComparisonSliderList();\n    updateComparisonSliderList();\n    filterImages();\n    toggleShowBtnsVisibility(chosenCategory);\n    generateUpdatedMasonry();\n    initializeSlider();\n  }\n\n  function resetComparisonSliderList() {\n    grid.innerHTML ='';\n  }\n\n   function updateComparisonSliderList() {\n    if(chosenCategory !== 'Всі') {\n      createFullComparisonSliderList();\n    } else {\n      displayedItems = 0;\n      createInitialComparisonSliderList();\n    }\n   }\n\n  function toggleCategory(btn, allBtnList) {\n    allBtnList.forEach(btn => btn.classList.remove('category__button--active'))\n    btn.classList.add('category__button--active')\n  }\n\n    function updateChosenCategory(text) {\n    chosenCategory = text;\n  }\n\n  function filterImages() {\n    const pictureList = grid.querySelectorAll('.comparison-slider');\n    pictureList.forEach(item => {\n      const categories = item.dataset.categories.split(', ');\n      const hasChosenCategory = chosenCategory === 'Всі' || categories.includes(chosenCategory);\n      item.classList.toggle('filtered', !hasChosenCategory);\n    });\n  }\n\n  function generateUpdatedMasonry() {\n      const masonry = new Masonry(grid, {\n        itemSelector: '.comparison-slider:not(.filtered)',\n        gutter: gutterSize,\n      });\n      masonry.layout();\n  }\n\n  function toggleShowBtnsVisibility(chosenCategory) {\n    showMoreBtn.classList.toggle('isVisible', chosenCategory === 'Всі');\n    showLessBtn.classList.remove('isVisible', chosenCategory === 'Всі');\n  }\n\n\n  function showMoreItems() {\n    const itemsToLoad = comparisonImagesData.slice(displayedItems, displayedItems + itemsPerPage);\n    itemsToLoad.forEach(createComparisonSlider);\n    initializeSlider();\n    generateUpdatedMasonry();\n    updateButtonsVisibility();\n    }\n\n\n  function showLessItems() {\n    displayedItems = displayedItems - itemsPerPage;\n    const items = grid.querySelectorAll('.comparison-slider');\n    const newItems  = Array.from(items).slice(0, items.length - itemsPerPage);\n    resetComparisonSliderList();\n    newItems.forEach(item => {\n      grid.appendChild(item);\n    });\n    initializeSlider();\n    generateUpdatedMasonry();\n    updateButtonsVisibility();\n   \n  }\n\n  function updateButtonsVisibility() {\n    showLessBtn.classList.toggle('isVisible', displayedItems > itemsPerPage);\n    showMoreBtn.classList.toggle('isVisible', displayedItems < comparisonImagesData.length);\n  }\n "],"mappings":"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"}