{"version":3,"file":"reviews.js","names":["_reviewsData","require","_masonryLayout","_interopRequireDefault","_utils","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","currentReviewBlock","document","addEventListener","initializeReviewSwiper","reviewsList","querySelector","mobileReviewsList","showMoreReviewsBtn","chunkSize","chunkedReviews","chunkArray","reviews","initializeReviews","initializeMasonry","gallery","initializeGallery","reviewsSliderEventHandlers","showMoreReviews","slideList","querySelectorAll","forEach","item","setAttribute","chunk","appendChild","createReviewElement","selector","grids","grid","masonry","Masonry","itemSelector","gutter","Swiper","direction","effect","keyboard","enabled","onlyInViewport","mousewheel","invert","loop","speed","autoplay","delay","disableOnInteraction","navigation","nextEl","prevEl","pagination","el","clickable","type","reviewsSlider","params","start","stop","reviewsBlockList","style","display","itemClassName","listClassName","listItem","createElement","className","ul","reviewData","index","createReviewItem","li","concat","title","createTitle","ratingStars","createRatingStars","rating","text","createText","ratingList","createRatingItem","ratingItem","pictureParams","width","srcPrefix","media","alt","picture","createPicture","textContent","innerHTML"],"sources":["modules/reviews.js"],"sourcesContent":["import { reviews } from \"./reviews-data\";\nimport Masonry from \"masonry-layout\";\nimport { chunkArray, createPicture} from \"./utils\";\n\nlet currentReviewBlock = 1;\ndocument.addEventListener(\"DOMContentLoaded\", initializeReviewSwiper);\n\n\nfunction initializeReviewSwiper() {\n  const reviewsList = document.querySelector('.reviews__swiper');\n  const mobileReviewsList = document.querySelector('.mobile__reviews-list');\n  const showMoreReviewsBtn = document.querySelector('.mobile__show-more-btn');\n  const chunkSize = 6;\n  const chunkedReviews = chunkArray(reviews, chunkSize);\n\n  initializeReviews(reviewsList, mobileReviewsList, chunkedReviews);\n  initializeMasonry('.reviews__list');\n  const gallery = initializeGallery('.gallery');\n  reviewsSliderEventHandlers(gallery);\n  showMoreReviewsBtn.addEventListener('click', () => showMoreReviews(mobileReviewsList, showMoreReviewsBtn));\n  const slideList = document.querySelectorAll('.swiper-slide');\n  [...slideList].forEach(item => item.setAttribute('role', 'Слайд'));\n\n\n}\n\nfunction initializeReviews(reviewsList, mobileReviewsList, chunkedReviews) {\n  chunkedReviews.forEach(chunk => {\n    reviewsList.appendChild(createReviewElement('swiper-slide', 'reviews__list', chunk));\n    mobileReviewsList.appendChild(createReviewElement('mobile__swiper-slide', 'mobile__reviews', chunk));\n  });\n}\n\nfunction initializeMasonry(selector) {\n  const grids = document.querySelectorAll(selector);\n  grids.forEach(grid => {\n    const masonry   = new Masonry(grid, {\n      itemSelector: '.reviews__item',\n      gutter: 30,\n      \n    });\n  })\n}\n\nfunction initializeGallery(selector) {\n  const gallery = new Swiper(selector, {\n    direction: 'horizontal',\n    effect: 'slider',\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    mousewheel: {\n      invert: true,\n    },\n    loop: true,\n    speed: 2000,\n    autoplay: {\n      delay: 2000,\n      disableOnInteraction: false,\n    },\n    navigation: {\n      nextEl: '.gallery__next-btn',\n      prevEl: '.gallery__prev-btn',\n    },\n    pagination: {\n      el: '.gallery__swiper-pagination',\n      clickable: true,\n      type: 'progressbar',\n    },\n  });\n  return gallery;\n}\n\nfunction reviewsSliderEventHandlers(gallery) {\n  const reviewsSlider = document.querySelector('.gallery');\n  reviewsSlider.addEventListener('mouseleave', () => {\n    gallery.params.autoplay.disableOnInteraction = false;\n    gallery.params.autoplay.delay = 2000;\n    gallery.autoplay.start();\n  });\n\n  reviewsSlider.addEventListener('mouseenter', () => {\n    gallery.autoplay.stop();\n  });\n}\n\nfunction showMoreReviews(mobileReviewsList, showMoreReviewsBtn) {\n  const reviewsBlockList = mobileReviewsList.querySelectorAll('.mobile__swiper-slide');\n  reviewsBlockList[currentReviewBlock].style.display = 'list-item';\n  currentReviewBlock++;\n  if (currentReviewBlock >= reviewsBlockList.length) {\n    showMoreReviewsBtn.style.display = 'none';\n  }\n}\n\nfunction createReviewElement(itemClassName, listClassName, reviews) {\n  const listItem = document.createElement('li');\n  listItem.className = itemClassName;\n  const ul = document.createElement('ul');\n  ul.className = listClassName;\n\n  reviews.forEach((reviewData, index) => {\n    ul.appendChild(createReviewItem(index + 1, reviewData));\n  });\n\n  listItem.appendChild(ul);\n  return listItem;\n}\n\nfunction createReviewItem(index, reviewData) {\n  const li = document.createElement('li');\n  li.className = `reviews__item item-${index}`;\n  const title = createTitle(reviewData.name);\n  const ratingStars = createRatingStars(reviewData.rating);\n  const text = createText(reviewData.text);\n  li.appendChild(title);\n  li.appendChild(ratingStars);\n  li.appendChild(text);\n  return li;\n}\nfunction createRatingStars(rating) {\n  const ratingList = document.createElement('ul');\n  ratingList.className = 'review__rating';\n  for (let i = 0; i < rating; i++) {\n    ratingList.appendChild(createRatingItem());\n  }\n  return ratingList;\n}\n\nfunction createRatingItem() {\n  const ratingItem = document.createElement('li');\n  ratingItem.className = 'rating__item';\n  const pictureParams =     {\n    width: 20,\n    srcPrefix: 'images/reviews/tablet/star', \n    media: '(max-width: 1439px)', \n    alt: 'Жовта зірка',\n    className: 'rating__icon'\n  }\n  \n  const picture = createPicture(pictureParams);\n  ratingItem.appendChild(picture);\n  return ratingItem;\n}\n\nfunction createTitle(name) {\n  const title = document.createElement('h3');\n  title.className = 'review__title';\n  title.textContent = name;\n  return title;\n}\n\nfunction createText(textContent) {\n  const text = document.createElement('p');\n  text.className = 'review__text';\n  text.innerHTML = textContent;\n  return text;\n}\n\n\n\n"],"mappings":"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"}