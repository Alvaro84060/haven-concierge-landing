{"version":3,"file":"create-discount-glass.js","names":["_utils","require","createGlass","description","terms","promo","glass","document","createElement","className","descriptionElem","createGlassDescriptions","termsElem","createGlassTerms","promoElem","createGlassPromo","appendChild","content","elem","innerHTML","highlightTermsInString","container","sentences","splitContent","forEach","sentence","highlightDiscountInString","wrap","leftBlock","createPromoBlock","rightBlock","text","createCopyIcon","arguments","length","undefined","block","regex","modifiedSentence","replace","inputString","highlightedString","match","term1","term2","year","concat","svg","createElementNS","setAttribute","use"],"sources":["modules/create-discount-glass.js"],"sourcesContent":["import {  splitContent } from \"./utils\";\nexport function createGlass(description, terms, promo) {\n  const glass = document.createElement('div');\n  glass.className = 'swiper-slide__glass';\n  const descriptionElem = createGlassDescriptions(description, 'glass__descr');\n  const termsElem = createGlassTerms(terms, 'glass__terms');\n  const promoElem = createGlassPromo(promo);\n\n  glass.appendChild(descriptionElem);\n  glass.appendChild(termsElem);\n  glass.appendChild(promoElem);\n\n  return glass;\n}\n\nfunction createGlassTerms(content, className) {\n  const elem = document.createElement('p');\n  elem.className = className;\n  elem.innerHTML = highlightTermsInString(content);\n  return elem;\n}\n\nfunction createGlassDescriptions(content, className) {\n  const container = document.createElement('div');\n  container.className = className;\n  const sentences = splitContent(content);\n\n  sentences.forEach(sentence => {\n    const elem = document.createElement('p');\n    elem.innerHTML = highlightDiscountInString(sentence);\n    container.appendChild(elem);\n  });\n\n  return container;\n}\n function createGlassPromo(promo) {\n  const wrap = document.createElement('div');\n  wrap.className = \"promo\";\n  const leftBlock = createPromoBlock(\"glass__promo promo__wrapper promo__wrapper--left\", \"ПРОМОКОД\");\n  const rightBlock = createPromoBlock(\"promo__wrapper promo__wrapper--right\");\n  const text  = document.createElement('span');\n  text.innerHTML = promo;\n  text.className = 'promo__text'\n  rightBlock.appendChild(text);\n  rightBlock.appendChild(createCopyIcon());\n  wrap.appendChild(leftBlock);\n  wrap.appendChild(rightBlock);\n  return wrap;\n }\n\n function createPromoBlock(className, innerHTML = \"\") {\n  const block = document.createElement('div');\n  block.className = className;\n  block.innerHTML = innerHTML;\n  return block;\n}\n\nfunction highlightDiscountInString(sentence) {\n  const regex = /(\\d+%)/g;\n  const modifiedSentence = sentence.replace(\n    regex,\n    '<span class=\"glass__accent\">$1</span>'\n  );\n\n  return modifiedSentence;\n}\n\nfunction highlightTermsInString(inputString) {\n  const regex = /з (.*?) по (.*?) (\\d{4} року)/g;\n  const highlightedString = inputString.replace(\n    regex,\n    function (match, term1, term2, year) {\n      return `з <span class=\"glass__accent--term\">${term1}</span> по <span class=\"glass__accent--term\">${term2} ${year}</span> `;\n    }\n  );\n\n  return highlightedString;\n}\n\nfunction createCopyIcon() {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.setAttribute(\"class\", \"promo__copy-icon\");\n  svg.setAttribute(\"width\", \"30\");\n  svg.setAttribute(\"height\", \"30\");\n\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  use.setAttribute(\"href\", \"images/sprite.svg#icon-copy\");\n  svg.appendChild(use);\n\n  return svg;\n}"],"mappings":"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"}