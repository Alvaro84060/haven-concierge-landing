{"version":3,"file":"user-order-form.js","names":["_subscrModal","require","_modal","_localStorage","_choseServices","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","subscForm","exports","document","querySelector","paymentBtnList","querySelectorAll","paymentErrorMessage","formInputList","makeOrderBtn","policyCheckBox","observer","MutationObserver","mutationsList","forEach","mutation","type","attributeName","isChecked","getAttribute","hidePolicyError","observe","attributes","attributeFilter","addEventListener","setAttribute","checked","onSubmitForm","e","preventDefault","el","onPaymentTypeBtnClick","hidePaymentTypeError","classList","remove","validationFields","userOrderDataObj","userPaymentType","userBuildingType","userTakeKeyAddress","userGiveKeyAddress","userSquare","quantity","cost","userServices","setPropertyInOrderObj","_el$getAttribute","propertyName","propertyValue","setSquarePropertyInOrderObj","orderObj","price","concat","calculateServiceCost","setServicesPropertyInOrderObj","filteredObj","filterObjectByQuantity","userServicesOrderInfoObj","keys","filter","key","map","_filteredObj$key","validateFields","elements","fieldNames","fieldName","value","trim","resetErrors","element","addErrorClass","elementsWithErrors","add","checkIfPaymentTypeChosen","some","btn","contains","checkIfPolicyAgreed","isAgreed","togglePaymentTypeErrorVisibility","toggle","isPaymentErrorMessageVisible","togglePolicyErrorVisibility","policyErrorMessage","isPolicyAgreed","isComplexOrder","currentTarget","tagName","isPaymentTypeChosen","isAnyError","form","target","initializeComplexOrder","setOrderDataObj","storeDataInLocalStorage","resetFormFields","resetChosenPaymentType","disconnect","toggleModal","refsSubscr","window","location","href","setKeyPropertiesInOrderObj","square","clickedButton","closest","button","formData","FormData","startsWith","takeKeyInput","giveKeyInput"],"sources":["modules/user-order-form.js"],"sourcesContent":["import { refsSubscr } from './subscr-modal';\nimport { toggleModal } from './modal';\nimport { storeDataInLocalStorage } from './local-storage';\nimport {\n  userServicesOrderInfoObj,\n  calculateServiceCost,\n  filterObjectByQuantity,\n} from './chose-services';\nexport const subscForm = document.querySelector('.subscr__form');\nconst paymentBtnList = document.querySelectorAll('.payment__btn');\nconst paymentErrorMessage = document.querySelector('.form__payment-error-text');\nconst formInputList = document.querySelectorAll('.form__input');\nconst makeOrderBtn = document.querySelector('.calc-btn');\nconst policyCheckBox = document.querySelector('[name=\"studio-policy-check\"]');\nlet observer;\n\nif (policyCheckBox) {\n  observer = new MutationObserver((mutationsList, observer) => {\n    mutationsList.forEach(mutation => {\n      if (\n        mutation.type === 'attributes' &&\n        mutation.attributeName === 'data-checked'\n      ) {\n        const isChecked = policyCheckBox.getAttribute('data-checked') === 'true';\n        hidePolicyError();\n      }\n    });\n  });\n\n  observer.observe(policyCheckBox, {\n    attributes: true,\n    attributeFilter: ['data-checked'],\n  });\n\n  policyCheckBox.addEventListener('change', () => {\n    policyCheckBox.setAttribute('data-checked', policyCheckBox.checked);\n  });\n}\n\n\nsubscForm?.addEventListener('submit', onSubmitForm);\nmakeOrderBtn?.addEventListener('click', e => {\n  e.preventDefault();\n  onSubmitForm(e);\n});\n\npaymentBtnList.forEach(el => {\n  el.addEventListener('click', e => {\n    onPaymentTypeBtnClick(e);\n    hidePaymentTypeError();\n  });\n});\n\nformInputList.forEach(el => {\n  el.addEventListener('focus', () => {\n    el.classList.remove('error');\n  });\n});\n\nconst validationFields = [\n  'userName',\n  'userSurname',\n  'userTel',\n  'userEmail',\n  'userLocation',\n  'userDate',\n  'userTime',\n];\n\nexport const userOrderDataObj = {\n  userPaymentType: '',\n  userBuildingType: '',\n  userTakeKeyAddress: '',\n  userGiveKeyAddress: '',\n  userSquare: { quantity: '', cost: '' },\n  userServices: {},\n};\n\nexport function setPropertyInOrderObj(el) {\n  const propertyName = el.getAttribute('data-type');\n  const propertyValue = el.getAttribute('data-id') ?? '';\n  userOrderDataObj[propertyName] = propertyValue;\n}\n\nfunction setSquarePropertyInOrderObj(orderObj, quantity, price) {\n  orderObj.userSquare = {\n    quantity: `${quantity}`,\n    cost: calculateServiceCost(quantity, price),\n  };\n}\n\nfunction setServicesPropertyInOrderObj(orderObj) {\n  const filteredObj = filterObjectByQuantity(userServicesOrderInfoObj);\n  orderObj.userServices = Object.keys(filteredObj)\n    .filter(key => key !== 'square')\n    .map(key => {\n      const { name, quantity, price } = filteredObj[key];\n      const cost = calculateServiceCost(quantity, price);\n      return {\n        name: name,\n        quantity: quantity,\n        cost: cost,\n      };\n    });\n}\n\nfunction validateFields(elements, fieldNames) {\n  return fieldNames\n    .filter(fieldName => elements[fieldName].value.trim() === '')\n    .map(fieldName => elements[fieldName]);\n}\n\nexport function resetErrors(elements) {\n  [...elements].forEach(element => {\n    element.classList.remove('error');\n  });\n}\n\nfunction addErrorClass(elementsWithErrors) {\n  elementsWithErrors.forEach(element => {\n    element.classList.add('error');\n  });\n}\n\nfunction checkIfPaymentTypeChosen() {\n  return [...paymentBtnList].some(btn => btn.classList.contains('active'));\n}\n\nfunction checkIfPolicyAgreed() {\n  const policyCheckBox = document.querySelector('[name=\"studio-policy-check\"]');\n  const isAgreed = policyCheckBox.checked;\n  return isAgreed;\n}\n\nexport function togglePaymentTypeErrorVisibility() {\n  const paymentErrorMessage = document.querySelector(\n    '.form__payment-error-text'\n  );\n  paymentErrorMessage.classList.toggle('isHidden');\n}\n\nexport function hidePaymentTypeError() {\n  const isPaymentErrorMessageVisible =\n    !paymentErrorMessage.classList.contains('isHidden');\n  if (isPaymentErrorMessageVisible) {\n    togglePaymentTypeErrorVisibility();\n  }\n}\n\nexport function togglePolicyErrorVisibility() {\n  const policyErrorMessage = document.querySelector('.form__policy-error-text');\n  policyErrorMessage.classList.add('isHidden');\n  const isPolicyAgreed = checkIfPolicyAgreed();\n  if (!isPolicyAgreed) {\n    policyErrorMessage.classList.remove('isHidden');\n  }\n}\n\nexport function hidePolicyError() {\n  const policyErrorMessage = document.querySelector('.form__policy-error-text');\n\n  policyErrorMessage.classList.add('isHidden');\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const isComplexOrder = e.currentTarget.tagName === 'BUTTON';\n  const elements = isComplexOrder\n    ? subscForm.elements\n    : e.currentTarget.elements;\n  const elementsWithErrors = validateFields(elements, validationFields);\n  resetErrors(elements);\n  addErrorClass(elementsWithErrors);\n  const isPaymentTypeChosen = checkIfPaymentTypeChosen();\n  const isAnyError = elementsWithErrors.length > 0;\n  if (!isPaymentTypeChosen) {\n    togglePaymentTypeErrorVisibility();\n  }\n  togglePolicyErrorVisibility();\n  const isPolicyAgreed = checkIfPolicyAgreed();\n  if (!isPaymentTypeChosen || isAnyError || !isPolicyAgreed) {\n    return;\n  }\n  const form = isComplexOrder ? subscForm : e.target;\n  if (isComplexOrder) {\n    initializeComplexOrder();\n  }\n  setOrderDataObj(form);\n  storeDataInLocalStorage('userOrderDataObj', userOrderDataObj);\n  resetFormFields(elements);\n  resetChosenPaymentType();\n  observer.disconnect();\n  if (!isComplexOrder) {\n    toggleModal(refsSubscr);\n  }\n  window.location.href = window.location.href =\n    'https://marynashavlak.github.io/comfort-group-cleaning/success-order.html';\n}\n\nfunction initializeComplexOrder() {\n  setKeyPropertiesInOrderObj();\n  setSquarePropertyInOrderObj(\n    userOrderDataObj,\n    userServicesOrderInfoObj.square.quantity,\n    userServicesOrderInfoObj.square.price\n  );\n  setServicesPropertyInOrderObj(userOrderDataObj);\n}\n\nfunction onPaymentTypeBtnClick(e) {\n  const clickedButton = e.target.closest('button');\n  setPropertyInOrderObj(clickedButton);\n  if (clickedButton.classList.contains('active')) return;\n  [...paymentBtnList].forEach(button => {\n    if (button === clickedButton) {\n      button.classList.add('active');\n    } else {\n      button.classList.remove('active');\n    }\n  });\n}\n\nfunction resetFormFields(elements) {\n  [...elements].forEach(element => {\n    if (\n      element.type === 'text' ||\n      element.type === 'email' ||\n      element.type === 'tel' ||\n      element.tagName === 'TEXTAREA'\n    ) {\n      element.value = '';\n    } else if (element.type === 'checkbox') {\n      element.checked = true;\n    }\n  });\n}\n\nfunction resetChosenPaymentType() {\n  [...paymentBtnList].forEach(button => {\n    button.classList.remove('active');\n  });\n}\n\nfunction setOrderDataObj(form) {\n  const formData = new FormData(form);\n  formData.forEach((value, key) => {\n    if (key.startsWith('user')) {\n      userOrderDataObj[key] = value;\n    }\n  });\n}\n\nfunction setKeyPropertiesInOrderObj() {\n  const takeKeyInput = document.querySelector(\n    '[data-type=\"userTakeKeyAddress\"]'\n  );\n  const giveKeyInput = document.querySelector(\n    '[data-type=\"userGiveKeyAddress\"]'\n  );\n  setPropertyInOrderObj(takeKeyInput);\n  setPropertyInOrderObj(giveKeyInput);\n}\n"],"mappings":"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"}